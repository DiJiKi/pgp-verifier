<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGP Sign Check</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- CDN de Font Awesome -->
</head>
<body>
    <div class="container mt-4">
        <h2 class="text-center">PGP Sign Check</h2>
        
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="validate-tab" data-bs-toggle="tab" href="#validate" role="tab" aria-controls="validate" aria-selected="true">Validate Signature</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="sign-tab" data-bs-toggle="tab" href="#sign" role="tab" aria-controls="sign" aria-selected="false">Generate Signature</a>
            </li>
        </ul>

        <div class="tab-content mt-2" id="myTabContent">
            <div class="tab-pane fade show active" id="validate" role="tabpanel" aria-labelledby="validate-tab">
                <label for="Text" class="mt-2">Text:</label>
                <input type="text" id="randomText" class="form-control mt-1" placeholder="Type something or generate random text">
                <button class="btn btn-primary" onclick="generateRandomText()">Generate Random Text</button>
                
                <label for="publicKeyFile" class="mt-2">Public Key:</label>
                <input type="file" id="publicKeyFile" class="form-control" accept=".asc">
                
                <label for="signature" class="mt-2 mb-1">Paste the Sign:</label>
                <div class="input-group">
                    <textarea id="signature" class="form-control signature-field" placeholder="Sign"></textarea>
                    <button class="btn btn-secondary btn-icon" onclick="pasteSignature()">
                        <i class="fa-solid fa-paste"></i>
                    </button>
                </div>
                
                <button class="btn btn-success mt-1" onclick="validateSignature()">Validate</button>
                <p id="validationResult" class="mt-1" style="color: red;"></p>
            </div>

            <div class="tab-pane fade" id="sign" role="tabpanel" aria-labelledby="sign-tab">
                <label for="challengeText" class="mt-2">Text:</label>
                <textarea id="challengeText" class="form-control" placeholder="Text to sign"></textarea>
                
                <label for="privateKeyFile" class="mt-2">Private Key:</label>
                <input type="file" id="privateKeyFile" class="form-control" accept=".key">
                
                <label for="privateKeyPassphrase" class="mt-2">Password:</label>
                <input type="password" id="privateKeyPassphrase" class="form-control" placeholder="Password">
                
                <button class="btn btn-primary mt-1" onclick="signText()">Sign</button>
                
                <label for="signatureResult" class="mt-2 mb-1">Generated Sign:</label>
                <div class="input-group">
                    <textarea id="signatureResult" class="form-control signature-field" readonly></textarea>
                    <button class="btn btn-secondary btn-icon" onclick="copySignature()">
                        <i class="fa-solid fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/bootstrap.min.js"></script>
    <script src="js/openpgp.min.js"></script>
    <script src="js/verifier.js"></script>
</body>
</html>

